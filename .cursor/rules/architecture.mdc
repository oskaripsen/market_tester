---
description: 
globs: 
alwaysApply: true
---
# ğŸ“ .cursor-architecture.md

## ğŸ§  Project Architecture Guidelines for `market_tester/`

This document defines the enforced architecture for the **AI Persona Simulator** project. All code contributions and AI-generated files must comply with this structure.

---

## ğŸ—‚ï¸ Directory Structure (Required)

```plaintext
market_tester/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ core/                    # Standard UI widgets and layout helpers
â”‚   â”‚   â”œâ”€â”€ theme/                   # Central design system (colors, text, dimensions)
â”‚   â”‚   â”œâ”€â”€ models/                  # Data models (Persona, TestResult, etc.)
â”‚   â”‚   â”œâ”€â”€ services/                # Business logic and app-specific logic
â”‚   â”‚   â”œâ”€â”€ repositories/            # Handles API communication
â”‚   â”‚   â”œâ”€â”€ screens/                 # Page-level UI screens
â”‚   â”‚   â”œâ”€â”€ widgets/                 # Domain-specific reusable UI components
â”‚   â”‚   â”œâ”€â”€ utils/                   # General-purpose utility functions
â”‚   â”‚   â”œâ”€â”€ config/                  # Environment switching, constants
â”‚   â”‚   â””â”€â”€ main.dart                # App entry point
â”‚   â”œâ”€â”€ assets/                      # Fonts, images, icons
â”‚   â”œâ”€â”€ test/                        # Unit and widget tests
â”‚   â””â”€â”€ pubspec.yaml
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/              # API endpoint definitions
â”‚   â”‚   â”‚   â””â”€â”€ dependencies/        # Reusable API dependencies
â”‚   â”‚   â”œâ”€â”€ core/                    # App configuration and global logic
â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â”œâ”€â”€ models/              # SQLAlchemy ORM models
â”‚   â”‚   â”‚   â”œâ”€â”€ session.py
â”‚   â”‚   â”‚   â””â”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ schemas/                 # Pydantic models for input/output validation
â”‚   â”‚   â”œâ”€â”€ services/                # Business logic (simulation, scoring)
â”‚   â”‚   â”œâ”€â”€ utils/                   # Prompt building, formatting, helper functions
â”‚   â”‚   â””â”€â”€ main.py                  # FastAPI application entrypoint
â”‚   â”œâ”€â”€ tests/                       # Backend unit and integration tests
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ fly.toml
